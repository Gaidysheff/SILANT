{% extends 'crm_app/base.html' %}
<br />
{% block content %}

<div class="container">
  <div class="crud">
    <div class="crud__inner">
      <div class="crud__header sign-add header-machine">{{title}}</div>
      <div class="crud__content">Здесь будут справочники</div>
      <div class="crud__bottom"></div>
    </div>
  </div>
</div>
<!-- ----------------------------------------------------------------- -->

<div class="container">
  <div class="directory-head">
    <div class="directory-head__image">
      <img
        src="../../static/crm_app/images/directories/machines.png"
        alt="icon of the machines"
      />
    </div>
    <div class="directory-head__title">СПРАВОЧНИК <br />{{ title }}</div>
  </div>

  <!-- ============================== Accordion ============================== -->

  <ul class="refbook__acc">
    <li class="refbook__acc-item">
      <a class="refbook__acc-link" href="#">
        <div class="refbook__acc-head">
          <span>Справочник 1.</span> Модели машин
        </div>
        <div class="refbook__acc-text" style="display: none">
          <table class="directories">
            <thead>
              <tr class="directories__row">
                {% for d in directories %}
                <th class="directories__head">{{d}}</th>
                {% endfor %}
              </tr>
            </thead>
            <tbody>
              {% for object in modelMachine %}
              <tr class="directories__row">
                <td class="directories__col">{{object.name}}</td>
                {% autoescape off %}
                <td class="directories__col">
                  {{object.description|linebreaks}}
                </td>
                {% endautoescape %}
              </tr>
              {% empty %}
              <div class="message">Список пуст</div>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </a>
    </li>
    <li class="refbook__acc-item">
      <a class="refbook__acc-link" href="#">
        <div class="refbook__acc-head">
          <span>Справочник 2.</span> Модели двигателей
        </div>
        <div class="refbook__acc-text" style="display: none">
          <table class="directories">
            <thead>
              <tr class="directories__row">
                {% for d in directories %}
                <th class="directories__head">{{d}}</th>
                {% endfor %}
              </tr>
            </thead>
            <tbody>
              {% for object in modelEngine %}
              <tr class="directories__row">
                <td class="directories__col">{{object.name}}</td>
                {% autoescape off %}
                <td class="directories__col">
                  {{object.description|linebreaks}}
                </td>
                {% endautoescape %}
              </tr>
              {% empty %}
              <div class="message">Список пуст</div>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </a>
    </li>
    <li class="refbook__acc-item">
      <a class="refbook__acc-link" href="#">
        <div class="refbook__acc-head">
          <span>Справочник 3.</span> Модели трансмиссий
        </div>
        <div class="refbook__acc-text" style="display: none">
          <table class="directories">
            <thead>
              <tr class="directories__row">
                {% for d in directories %}
                <th class="directories__head">{{d}}</th>
                {% endfor %}
              </tr>
            </thead>
            <tbody>
              {% for object in modelTransmission %}
              <tr class="directories__row">
                <td class="directories__col">{{object.name}}</td>
                {% autoescape off %}
                <td class="directories__col">
                  {{object.description|linebreaks}}
                </td>
                {% endautoescape %}
              </tr>
              {% empty %}
              <div class="message">Список пуст</div>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </a>
    </li>
    <li class="refbook__acc-item">
      <a class="refbook__acc-link" href="#">
        <div class="refbook__acc-head">
          <span>Справочник 4.</span> Модели ведущих мостов
        </div>
        <div class="refbook__acc-text" style="display: none">
          <table class="directories">
            <thead>
              <tr class="directories__row">
                {% for d in directories %}
                <th class="directories__head">{{d}}</th>
                {% endfor %}
              </tr>
            </thead>
            <tbody>
              {% for object in modelDriveAxle %}
              <tr class="directories__row">
                <td class="directories__col">{{object.name}}</td>
                {% autoescape off %}
                <td class="directories__col">
                  {{object.description|linebreaks}}
                </td>
                {% endautoescape %}
              </tr>
              {% empty %}
              <div class="message">Список пуст</div>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </a>
    </li>
    <li class="refbook__acc-item">
      <a class="refbook__acc-link" href="#">
        <div class="refbook__acc-head">
          <span>Справочник 5.</span> Модели управляемых мостов
        </div>
        <div class="refbook__acc-text" style="display: none">
          <table class="directories">
            <thead>
              <tr class="directories__row">
                {% for d in directories %}
                <th class="directories__head">{{d}}</th>
                {% endfor %}
              </tr>
            </thead>
            <tbody>
              {% for object in modelSteeringAxle %}
              <tr class="directories__row">
                <td class="directories__col">{{object.name}}</td>
                {% autoescape off %}
                <td class="directories__col">
                  {{object.description|linebreaks}}
                </td>
                {% endautoescape %}
              </tr>
              {% empty %}
              <div class="message">Список пуст</div>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </a>
    </li>
    <li class="refbook__acc-item">
      <a class="refbook__acc-link" href="#">
        <div class="refbook__acc-head">
          <span>Справочник 6.</span> Виды Технического Обслуживания
        </div>
        <div class="refbook__acc-text" style="display: none">
          <table class="directories">
            <thead>
              <tr class="directories__row">
                {% for d in directories %}
                <th class="directories__head">{{d}}</th>
                {% endfor %}
              </tr>
            </thead>
            <tbody>
              {% for object in maintenanceType %}
              <tr class="directories__row">
                <td class="directories__col">{{object.name}}</td>
                {% autoescape off %}
                <td class="directories__col">
                  {{object.description|linebreaks}}
                </td>
                {% endautoescape %}
              </tr>
              {% empty %}
              <div class="message">Список пуст</div>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </a>
    </li>
    <li class="refbook__acc-item">
      <a class="refbook__acc-link" href="#">
        <div class="refbook__acc-head">
          <span>Справочник 7.</span> Узлы отказа
        </div>
        <div class="refbook__acc-text" style="display: none">
          <table class="directories">
            <thead>
              <tr class="directories__row">
                {% for d in directories %}
                <th class="directories__head">{{d}}</th>
                {% endfor %}
              </tr>
            </thead>
            <tbody>
              {% for object in breakdown %}
              <tr class="directories__row">
                <td class="directories__col">{{object.name}}</td>
                {% autoescape off %}
                <td class="directories__col">
                  {{object.description|linebreaks}}
                </td>
                {% endautoescape %}
              </tr>
              {% empty %}
              <div class="message">Список пуст</div>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </a>
    </li>
    <li class="refbook__acc-item">
      <a class="refbook__acc-link" href="#">
        <div class="refbook__acc-head">
          <span>Справочник 8.</span> Способы восстановления
        </div>
        <div class="refbook__acc-text" style="display: none">
          <table class="directories">
            <thead>
              <tr class="directories__row">
                {% for d in directories %}
                <th class="directories__head">{{d}}</th>
                {% endfor %}
              </tr>
            </thead>
            <tbody>
              {% for object in recoveryMethod %}
              <tr class="directories__row">
                <td class="directories__col">{{object.name}}</td>
                {% autoescape off %}
                <td class="directories__col">
                  {{object.description|linebreaks}}
                </td>
                {% endautoescape %}
              </tr>
              {% empty %}
              <div class="message">Список пуст</div>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </a>
    </li>
    <li class="refbook__acc-item">
      <a class="refbook__acc-link" href="#">
        <div class="refbook__acc-head">
          <span>Справочник 9.</span> Сервисные компании
        </div>
        <div class="refbook__acc-text" style="display: none">
          <table class="directories">
            <thead>
              <tr class="directories__row">
                {% for d in directories %}
                <th class="directories__head">{{d}}</th>
                {% endfor %}
              </tr>
            </thead>
            <tbody>
              {% for object in serviceCompany %}
              <tr class="directories__row">
                <td class="directories__col">{{object.name}}</td>
                {% autoescape off %}
                <td class="directories__col">
                  {{object.description|linebreaks}}
                </td>
                {% endautoescape %}
              </tr>
              {% empty %}
              <div class="message">Список пуст</div>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </a>
    </li>
  </ul>

  <!-- =================================================================== -->

  <div class="navigate-to">
    <span class="empty"></span>
    {% if request.user.is_staff == True %}
    <a
      href="{% url 'full_db_list' %}"
      class="btn btn_back_to_list"
      id="to_model"
      >Вернуться в список</a
    >
    {% else %}
    <a
      href="{% url 'page_after_authorization' %}"
      class="btn btn_back_to_list"
      id="to_model"
      >Вернуться в список</a
    >
    {% endif %}
  </div>
</div>
{% endblock content %}
